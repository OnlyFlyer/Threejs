<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>testAJAX</title>
</head>
<body>
<form action="" name="myForm">
    用户名:<input type="text" name="username" onkeyup="ajaxFunction();">
    时间:<input type="text" name="time">
</form>
<script>
    function ajaxFunction(){
        var xmlHttp;

        //判断浏览器是否支持AJAX
        try{
            //Firefox,Opera,IE8.0+,Safari
            xmlHttp = new XMLHttpRequest();
        }catch(e){
            //Internet Explorer
            try{
                xmlHttp = new ActiveXObject('Msxml2.XMLHTTP');
            }catch(e){
                try{
                    xmlHttp = new ActiveXObject('Microsoft.XMLHTTP');
                }catch(e){
                    try{
                        xmlHttp = new ActiveXObject('Microsoft.XMLHTTP');
                    }catch(e){
                        alert('您的浏览器不支持AJAX!');
                        return false;
                    }
                }
            }
        }




        //存有处理服务器响应的函数
            //0  请求未初始化,在调用open()之前
            //1   请求已提出,在调用send()之前
            //2   请求已发送,通常可以响应得到内容头部
            //3   请求处理中,响应中通常有部分数据可用,但是服务器还没有完成响应
            //4    请求已完成,可以访问服务器响应并使用它
        xmlHttp.onreadystatechange = function(){
            if(xmlHttp.readyState == 4){
                //从服务器的response获得数据
//                alert(1);
                document.myForm.time.value = xmlHttp.responseText;
            }
        }

        xmlHttp.open('GET', './time.asp', true);
        xmlHttp.send(null);





    }
</script>
</body>
</html>